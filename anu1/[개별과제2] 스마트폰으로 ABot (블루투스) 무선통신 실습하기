스마트폰으로 ABot (블루투스) 무선통신 실습하기

                                                                        20171120 서경호
                                                                        

[과제 내용]

1. 실습 유튜브 (하나만 만들고 링크를 팀원에게 알려준다)

2. 실습에 대한 자세한 설명(카페 참고, 개별)

3. 실습 소감(개별)

------------
제출
1. Github의 개인 폴더를 만들고 각각 올린다.

2. 유튜브와 Github의 URL을 제출한다.

----------------------------------------------------------------------------------------------------------------------

[과제 실습]

1. 유튜브 : https://youtu.be/oqcjV6rN0jE

2. 실습 준비물

- A-Bot
- HC-06 ( 블루투스 페어링할 수 있게 해주는 칩 )
- 휴대폰

3. 실습 시나리오

* 스마트폰을 앞으로 기울이면 전진, 뒤로 기울이면 후진, 왼쪽으로 기울이면 좌회전, 오른쪽으로 기울이면 우회전
1) 스마트폰 센서 중 방향센서에서 피치와 롤 값을 읽고 => 정수로 바꾼 다음 => 블루투스 통신으로 아두이노로 보낸다.
2) 아두이노는 두 개의 값(롤값과 피치 값)을 읽고, 스마트폰에 ACK 값으로 '1'을 전송한다.
* 이렇게 하면 HC-06 블루투스가 서로 연결이 끊어져도 계속 연결된 것처럼 보여서 데이터를 계속 보내면서 오류가 발생되는 것을 막을 수 있다.

방향 센서 이론 - 스마트폰으로 ABot을 제어하자.(방향센서 활용하기)

-긴쪽으로 기울이면 전진 및 후진 - 피칭 (-90~+90)
-짧은쪽으로 기울이면 좌.우 회전 - 롤링 (-90~+90)

4. 소스코드 ( 아두이노 스케치 )

#include <Servo.h>
Servo sr, sl;
void setup() {
  Serial.begin(9600);
  sr.attach(13); sl.attach(12);
}

void loop() {
  if (Serial.available()) {
    char b[2];  //pitch b[0], roll b[1]
    int p, r;
    Serial.readBytes(b, 2);
    p = b[0] * 3; // 피치값 -90~0~90, 전 후진  // 1500-270 ~ 1500+270 -> 3을 곱해주는 이유는 전진, 후진의 속력을 높이기 위해서이다.
    r = b[1];        // 롤 값 -90~0~90, 좌 우회전  // 1500-90 ~ 1500+90
    sr.write(1500 + p - r);
    sl.write(1500 - p - r);
    Serial.write('1');
  }
}

5. 앱인벤터 ( 카페 참조 ) : https://cafe.naver.com/arduinocafe/4043

-------------------------------------------------------------------------------------------------------------------------------------

[소감]

이번 기회에 무선통신을 처음으로 이용해 보았습니다. 실생활에서 매우 많이 접하는 분야임에도 불구하고
프로그램을 하나하나 분해해서 공부해보고 실제로 선 없이 움직이는 것을 보니 엄청 신선했습니다.
몇년 전부터 대부분의 전세계 사람들은 와이파이, 블루투스, 5G 등 여러가지 무선통신을 사용하며 지냈는데도 
불구하고 세계적으로 블루투스를 사용해서 뭔가를 만들줄 아는 사람이 얼마되지 않는다는 내용이 수업을 들으면서
굉장히 흥미로웠던 것 같습니다. 앞으로 저도 그들 중 한 사람이 될 수 있게 노력하겠습니다. 성실해지겠습니다.
